
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../MOM6/">
      
      
        <link rel="next" href="../Quick-start/">
      
      
      <link rel="icon" href="../assets/ACCESS_icon_HIVE.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.9">
    
    
      
        <title>NUOPC driver - ACCESS-OM3-configs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4af4bdda.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#component-initialisation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="ACCESS-OM3-configs" class="md-header__button md-logo" aria-label="ACCESS-OM3-configs" data-md-component="logo">
      
  <img src="../assets/ACCESS_icon_HIVE.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ACCESS-OM3-configs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              NUOPC driver
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://cbull.info/access-om3-configs/docs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    Cbull
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="ACCESS-OM3-configs" class="md-nav__button md-logo" aria-label="ACCESS-OM3-configs" data-md-component="logo">
      
  <img src="../assets/ACCESS_icon_HIVE.png" alt="logo">

    </a>
    ACCESS-OM3-configs
  </label>
  
    <div class="md-nav__source">
      <a href="https://cbull.info/access-om3-configs/docs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    Cbull
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ACCESS-OM3 architecture
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Building/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Building
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Configurations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CMEPS-coupled configurations
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Coupling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Coupling
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Forcing-data-models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Forcing
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Git-practices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git practices
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../MOM6-generic-tracers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MOM6 generic tracers
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../MOM6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MOM6
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    NUOPC driver
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    NUOPC driver
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#mom6" class="md-nav__link">
    <span class="md-ellipsis">
      MOM6
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cice6" class="md-nav__link">
    <span class="md-ellipsis">
      CICE6
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cdeps-components-datm-drof" class="md-nav__link">
    <span class="md-ellipsis">
      CDEPS components (DATM, DROF)
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Quick-start/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick start
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Releases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Releases
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Topography-generation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ACCESS-OM3 Topography Workflow
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Updating-components/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Updating components
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#mom6" class="md-nav__link">
    <span class="md-ellipsis">
      MOM6
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cice6" class="md-nav__link">
    <span class="md-ellipsis">
      CICE6
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cdeps-components-datm-drof" class="md-nav__link">
    <span class="md-ellipsis">
      CDEPS components (DATM, DROF)
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<p>We have <a href="https://github.com/COSIMA/access-om3/discussions/13">adopted the NUOPC driver from CESM</a>.</p>
<h1 id="component-initialisation">Component initialisation</h1>
<p>Model component initialisation strategy is specified through a combination of flags set in the <a href="https://github.com/ACCESS-NRI/access-om3-configs/blob/1deg_jra55do_ryf/nuopc.runconfig"><code>nuopc.runconfig</code></a> configuration file and the input parameter files for each component.</p>
<p>The <a href="https://github.com/search?q=repo%3AACCESS-NRI%2Faccess-om3-configs+path%3Adoc%2Fnuopc.runconfig+start_type&amp;type=code"><code>start_type</code></a> parameter in the <code>ALLCOMP_attributes</code> section of <code>nuopc.runconfig</code> can be set to one of three values (note that the <code>access-om3</code> Payu driver automatically sets this parameter depending on whether the run is an initial or restart run):</p>
<ul>
<li><code>"startup"</code> specifying an initial run,</li>
<li><code>"continue"</code> specifying a run starting from restart files,</li>
<li><code>"branch"</code> specifying a run starting from restart files in which properties of the output history files may be changed - not used here.</li>
</ul>
<p>These have the following effects on each ACCESS-OM3 component’s parameters settings:</p>
<h2 id="mom6">MOM6</h2>
<p>See <a href="https://github.com/mom-ocean/MOM6/blob/b61b29ec1611ee222fcd114ee2b667bbe98ce8f4/config_src/drivers/nuopc_cap/mom_cap.F90#L545">MOM6 NUOPC cap</a> for details.</p>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>start_type</code></th>
<th style="text-align: left;">Interaction with model parameters (from <code>input.nml</code>)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>"startup"</code></td>
<td style="text-align: left;">Sets parameter <code>restartfiles = "n"</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>"continue"</code> / <code>"branch"</code></td>
<td style="text-align: left;">Hardcoded to use restart file specified in a local file <code>rpointer.ocn</code>.</td>
</tr>
</tbody>
</table>
<p>Note, users should let NUOPC set the <code>restartfiles</code> parameter. It should not be specified in <code>input.nml</code>.</p>
<h2 id="cice6">CICE6</h2>
<p>See <a href="https://github.com/ESCOMP/CICE/blob/34dc66707f6b691b1689bf36689591af3e8df270/cicecore/drivers/nuopc/cmeps/ice_comp_nuopc.F90#L404">CICE6 NUOPC cap</a> for details.</p>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>start_type</code></th>
<th style="text-align: left;">Interaction with model parameters (from <code>ice_in</code>)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>"startup"</code></td>
<td style="text-align: left;">Sets parameter <code>runtype = "initial"</code>. The type of CICE startup can be further configured using the <code>ice_ic</code> parameter in <code>ice_in</code> - see <a href="https://cice-consortium-cice.readthedocs.io/en/cice6.5.0/user_guide/ug_implementation.html#initialization-and-restarts">here</a>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>"continue"</code> / <code>"branch"</code></td>
<td style="text-align: left;">Sets parameters <code>restart = .true.</code> , <code>runtype = "continue"</code> and <code>use_restart_time = .true.</code> so uses restart specified in file specified in parameter <code>pointer_file</code>.</td>
</tr>
</tbody>
</table>
<p>Note, users should let NUOPC set the <code>restart</code>, <code>runtype</code> and <code>use_restart_time</code> parameters. They should not be specified in <code>ice_in</code>.</p>
<h2 id="cdeps-components-datm-drof">CDEPS components (DATM, DROF)</h2>
<p>See e.g. the <a href="https://github.com/ESCOMP/CDEPS/blob/3c70fc852aac65ea46c79d727b42d30d97a4a0e0/datm/atm_comp_nuopc.F90">atm NUOPC cap</a> and <a href="https://github.com/COSIMA/access-om3/blob/main/CDEPS/patches/atm_comp_nuopc.F90.patch">patch</a>, and <a href="https://github.com/ESCOMP/CMEPS/blob/98dcf46c8886104b95cddfd5b02588b3dd9f6722/cesm/driver/ensemble_driver.F90#L213">here</a> for details.</p>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>start_type</code></th>
<th style="text-align: left;">Interaction with model parameters (from <code>d{model_name}_in</code>)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>"startup"</code></td>
<td style="text-align: left;">Does not attempt to read any restarts regardless of parameter values.</td>
</tr>
<tr>
<td style="text-align: left;"><code>"continue"</code> / <code>"branch"</code></td>
<td style="text-align: left;">If parameter <code>skip_restart_read = .false.</code>, then reads restart specified in file <code>rpointer.{model_name}</code> or reads restart specified in parameter <code>restfilm</code> if it isn't set to <code>"null"</code> - see <a href="https://github.com/ESCOMP/CDEPS/blob/f027aa64285fb9ddad9be5c5837a6e6e279e6051/dshr/dshr_mod.F90#L992">here</a>.</td>
</tr>
</tbody>
</table>
<p>Note, restarts are used for the CDEPS components in ACCESS-OM3 only for performance reasons. They’re not needed to restart exactly, but they reduce startup cost associated with reading the input dataset time axis information - see <a href="https://escomp.github.io/CDEPS/versions/master/html/design_details.html#restart-files">here</a> for more detail.</p>
<h1 id="time-steps">Time-steps</h1>
<p>Also see timestepping section <a href="https://github.com/COSIMA/access-om3/wiki/Configurations#where-to-set-parameters">here</a>.</p>
<h2 id="coupling-and-driver-time-step">Coupling and driver time-step</h2>
<p>There's an overview of the NUOPC timekeeping design <a href="https://earthsystemmodeling.org/docs/release/ESMF_8_3_1/NUOPC_refdoc/node3.html#SECTION00035000000000000000">here</a>.</p>
<p>The <code>nuopc.runseq</code> file specifies the run sequence of the configuration. The run sequence for current ACCESS-OM3 configurations comprises a single loop, with the coupling time-step <a href="https://github.com/search?q=repo%3AACCESS-NRI%2Faccess-om3-configs+path%3Adoc%2Fnuopc.runseq+content%3A%2F%40%5Cd%2B%2F&amp;type=code">specified at the start of the loop</a> (this is the “timeStep” of the loop in NUOPC-speak).</p>
<p>Note, that there are parameters <a href="https://github.com/search?q=repo%3AACCESS-NRI%2Faccess-om3-configs+path%3Adoc%2Frunconfig+content%3Acpl_dt&amp;type=code"><code>{model_name}_cpl_dt</code></a> set in the <code>CLOCK_attributes</code> section of <code>nuopc.runconfig</code>. The only place these are used in CMEPS is to set the driver time-step as the <a href="https://github.com/ESCOMP/CMEPS/blob/e951fdc348de50e9119026ba900b84761503ed69/cesm/driver/esm_time_mod.F90#L157">minimum of these values</a>. However from the <a href="https://earthsystemmodeling.org/docs/release/ESMF_8_0_1/NUOPC_refdoc/node4.html#SECTION000411300000000000000">NUOPC documentation</a> and <a href="https://github.com/ESCOMP/CMEPS/blob/e951fdc348de50e9119026ba900b84761503ed69/mediator/med.F90#L11">CMEPS codebase</a>:</p>
<blockquote>
<p>Each time loop has its own associated clock object. NUOPC manages these clock objects, i.e. their creation and destruction, as well as startTime, endTime, timeStep adjustments during the execution. The outer most time loop of the run sequence is a special case. It uses the driver clock itself. If a single outer most loop is defined in the run sequence provided by freeFormat, this loop becomes the driver loop level  directly. Therefore, setting the timeStep or runDuration for the outer most time loop results modifying the driver clock itself. However, for cases with concatenated loops on the upper level of  the run sequence in freeFormat, a single outer loop is added automatically during ingestion, and the driver clock is used for this loop instead.</p>
</blockquote>
<p>So I think in our case, <code>{model_name}_cpl_dt</code> are unused and the driver time-step equals the coupling time-step set in <code>nuopc.runseq</code>. Certainly, changing these values seems to have no effect. However, I would feel more comfortable if I understood why <code>{model_name}_cpl_dt</code> are ever needed...</p>
<h2 id="cice6-time-steps">CICE6 time-steps</h2>
<p>The CICE thermodynamics time-step (<code>dt</code>) is set in the <a href="https://github.com/ESCOMP/CICE/blob/4cb296c4003014fe57d6d00f86868a78a532fc95/cicecore/drivers/nuopc/cmeps/ice_comp_nuopc.F90#L1227">CICE NUOPC cap</a> to match the driver time-step, which <a href="https://github.com/COSIMA/access-om3/wiki/NUOPC-driver/#coupling-and-driver-time-step">equals the coupling time-step</a>. Note that this is done <strong>before</strong> the CICE namelist file (<code>ice_in</code>) is read. Thus issues will occur if <code>dt</code> is set in <code>ice_in</code> but does not match the coupling time-step. It's therefore probably safest <strong>not</strong> to set <code>dt</code> in <code>ice_in</code>, although <a href="https://cice-consortium-cice.readthedocs.io/en/cice6.5.0/user_guide/ug_implementation.html#choosing-an-appropriate-time-step">other time-step related parameters</a> can be set here. Setting <code>ndtd</code> within <code>ice_in</code> allows for sub-cycling of the sea-ice dynamics to ensure numerical stability and may need to be increased during initial model spin up (the thermodynamics should be numerically stable for any time-step).</p>
<h2 id="mom6-time-steps">MOM6 time-steps</h2>
<p>MOM6 has 4 timesteps - see <a href="https://youtu.be/JKMwd8VXYcU?t=383">here</a> and <a href="https://youtu.be/JKMwd8VXYcU?t=2165">here</a> and <a href="https://mom6.readthedocs.io/en/main/api/generated/pages/Timestep_Overview.html">here</a>. From shortest to longest they are: barotropic, baroclinic (Lagrangian), tracer, and vertical remapping. Of these, it is common to set at least these 3 timesteps in the <code>MOM_input</code> file:</p>
<ul>
<li>
<p>Barotropic time-step (<code>DTBT</code>) for integration of sea surface and depth-averaged horizontal velocity. If set negative (e.g. <code>DTBT = -0.95</code>), the magnitude of <code>DTBT</code> is interpreted a fraction of the stability limit, so can be set independently of the model configuration (e.g. resolution). <code>DTBT_RESET_PERIOD</code> controls how often the stability limit is recalculated.</p>
</li>
<li>
<p>Baroclinic time-step (<code>DT</code>) for Lagrangian stacked shallow-water equations; often called "the" model timestep; needs to be short enough to resolve internal gravity waves, inertial oscillations and advection on the horizontal grid (i.e. this is resolution-dependent).</p>
</li>
<li>
<p>Tracer/thermodynamics time-step (<code>DT_THERM</code>), which can be <a href="https://youtu.be/JKMwd8VXYcU?si=dBk09lMVPsMF3aJT&amp;t=541">set to resolve the relevant physics</a> (e.g. an hour or so to capture the diurnal cycle), independent of the horizontal grid resolution. It is possible to set <code>DT_THERM</code> longer than the coupling time-step, but not with <a href="https://github.com/search?q=repo%3AACCESS-NRI%2Faccess-om3-configs+path%3Adoc%2FMOM_input+content%3ADIABATIC_FIRST&amp;type=code"><code>DIABATIC_FIRST = True</code></a>, which is the case for the current ACCESS-OM3 configurations. So <code>DT_THERM</code> should be set equal to, or less than, the coupling time-step.</p>
</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 ACCESS-NRI
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>